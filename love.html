<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do You Love Me?</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            overflow: hidden;
            margin: 0;
            position: relative;
            animation: gradientAnimation 10s ease infinite;
            background-size: 200% 200%;
            padding: 20px;
        }
        
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            color: #fff;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            width: 100%;
        }
        
        .buttons {
            margin-top: 20px;
            position: relative;
            display: flex;
            gap: clamp(10px, 3vw, 20px);
            justify-content: center;
            width: 100%;
        }
        
        button {
            font-size: clamp(1rem, 4vw, 1.5rem);
            padding: clamp(10px, 3vw, 15px) clamp(20px, 5vw, 30px);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
            touch-action: manipulation;
        }
        
        #yes {
            background-color: #28a745;
            color: white;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        }
        
        #yes:hover, #yes:active {
            background-color: #218838;
            transform: scale(1.05);
        }
        
        #no {
            background-color: #dc3545;
            color: white;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
            position: fixed;
            transition: all 0.5s ease;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ff0;
            animation: confetti-fall 2s linear infinite;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }
        
        #love-message {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            color: #fff;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            opacity: 0;
            transition: opacity 1s ease;
            display: none;
            width: 100%;
            padding: 0 15px;
        }
        
        .heart-icon {
            color: #ff3366;
            animation: pulse 1.5s infinite;
            display: inline-block;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <h1>Do you love me? üíñ</h1>
    <div class="buttons">
        <button id="yes" onclick="celebrate()">Yes</button>
        <button id="no">No</button>
    </div>
    <div id="love-message">I love you too! <span class="heart-icon">‚ù§Ô∏è</span></div>

    <!-- Audio element for romantic sound effect -->
    <audio id="success-sound" preload="auto">
        <source src="https://cdnjs.cloudflare.com/ajax/libs/ion-sound/3.0.7/sounds/water_droplet.mp3" type="audio/mpeg">
    </audio>

    <script>
        const noButton = document.getElementById('no');
        const yesButton = document.getElementById('yes');
        const loveMessage = document.getElementById('love-message');
        const successSound = document.getElementById('success-sound');
        
        // Set initial position for No button to be away from Yes button
        setInitialNoButtonPosition();
        
        // Set button position on window resize
        window.addEventListener('resize', setInitialNoButtonPosition);
        
        function setInitialNoButtonPosition() {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const buttonWidth = noButton.offsetWidth || 100; // Fallback if not yet rendered
            
            noButton.style.left = `${Math.max(viewportWidth - buttonWidth - 20, viewportWidth / 2 + 20)}px`;
            noButton.style.top = `${viewportHeight / 2}px`;
        }

        // For mobile: handle touch events
        noButton.addEventListener('touchstart', moveNoButton);
        // For desktop: handle mouse events
        noButton.addEventListener('mouseover', moveNoButton);
        
        function moveNoButton(event) {
            // Prevent default behavior for touch events
            if (event.type === 'touchstart') {
                event.preventDefault();
            }
            
            // Get viewport dimensions
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Get button dimensions
            const buttonWidth = noButton.offsetWidth;
            const buttonHeight = noButton.offsetHeight;
            
            // Calculate maximum positions to ensure button stays visible
            // Adding padding of 20px from the edges
            const maxX = viewportWidth - buttonWidth - 20;
            const minX = 20;
            const maxY = viewportHeight - buttonHeight - 20;
            const minY = 20;
            
            // Get Yes button's position
            const yesRect = yesButton.getBoundingClientRect();
            const yesLeft = yesRect.left;
            const yesRight = yesRect.right;
            const yesTop = yesRect.top;
            const yesBottom = yesRect.bottom;
            
            // Generate new random position within the safe bounds
            let newX, newY;
            let overlapWithYes = true;
            
            // Keep generating positions until we find one that doesn't overlap with Yes button
            // Add a safety margin of 20px around the Yes button
            const safetyMargin = 20;
            let attempts = 0;
            
            while (overlapWithYes && attempts < 50) {
                newX = Math.random() * (maxX - minX) + minX;
                newY = Math.random() * (maxY - minY) + minY;
                
                // Check if the new position would overlap with Yes button
                overlapWithYes = (
                    newX < yesRight + safetyMargin && 
                    newX + buttonWidth > yesLeft - safetyMargin && 
                    newY < yesBottom + safetyMargin && 
                    newY + buttonHeight > yesTop - safetyMargin
                );
                
                attempts++;
            }
            
            // Set the new position
            noButton.style.left = `${newX}px`;
            noButton.style.top = `${newY}px`;
        }

        function celebrate() {
            // Play sound effect
            try {
                successSound.volume = 0.7;  // Set volume to 70%
                
                // For mobile devices, we need to play sound after user interaction
                const playPromise = successSound.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(e => {
                        console.log("Audio couldn't play automatically: ", e);
                    });
                }
            } catch (e) {
                console.log("Error playing sound: ", e);
            }
            
            // Show love message with animation
            loveMessage.style.display = 'block';
            setTimeout(() => {
                loveMessage.style.opacity = '1';
            }, 100);
            
            // Hide buttons
            yesButton.style.display = 'none';
            noButton.style.display = 'none';
            
            // Show confetti - adjust number for mobile
            const confettiCount = window.innerWidth < 600 ? 50 : 100;
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 2000);
            }
        }
    </script>
</body>
</html>
